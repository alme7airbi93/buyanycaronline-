<header>
  <div id="header-main">
    <div class="container clearfix">
      <div id="header-left">
        <div class="clearfix">
          <!--Logo-->
          <a class="header-logo" href="/">
            <img src="/assets/img/logo.jpg" alt="Logo">
          </a>
        </div>
      </div>
      <div id="header-right">
        <div *ngIf="!currentUser" id="header-authentication">
          <button type="button" data-toggle="modal" data-target="#loginPopup">LOGIN</button>
          <span>|</span>
          <button type="button" data-toggle="modal" data-target="#registerPopup">REGISTER</button>
        </div>
        <div *ngIf="currentUser" id="header-authentication">
          <div class="dropdown" id="nav-mainMenu-links">
            <button class="dropdown-toggle" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true"
                    aria-expanded="false">
              {{currentUser.username}}
            </button>
            <div id="header-authentication" *ngIf="currentUser.type == 'ADMIN'">
              <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                <a class="dropdown-item" href="monitor-page">Ad Manage</a>
                <a class="dropdown-item" href="user-profile/{{currentUser.id}}">User Profile</a>
                <a class="dropdown-item" (click)="logout()">LOGOUT</a>
              </div>
            </div>
            <div id="header-authentication" *ngIf="currentUser.type == 'USER'">
              <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                <a class="dropdown-item" href="user-profile/{{currentUser.id}}">User Profile</a>
                <a class="dropdown-item" (click)="logout()">LOGOUT</a>
              </div>
            </div>
          </div>
        </div>

        <div id="header-select">
          <div>
            <a id="header-language" href="#" data-toggle="dropdown" data-width="100%">
              <img src="/assets/img/lang-eng.png">ENGLISH</a>
            <ul class="dropdown-menu dropdown-menu-right">
              <li><a href="#">Arabic</a></li>
              <li><a href="#">French</a></li>
            </ul>
          </div>
          <!--<div>
          <a id="header-currency" href="#" data-toggle="dropdown" data-width="100%">
              <i class="fa fa-money" style="margin-right: 3px;"></i>AED</a>
          <ul class="dropdown-menu dropdown-menu-right">
              <li><a href="#">USD</a></li>
              <li><a href="#">INR</a></li>
          </ul>
          </div>-->
        </div>
      </div>
    </div>
  </div>

  <nav id="mainMenu">
    <div class="container">
      <div id="mainMenu-inner">
        <a href="javascript:void(0);" id="mainMenu-icon">
          <i class="fa fa-bars"></i>
        </a>
        <ul id="mainMenu-links" class="clearfix">
          <li><a href="#" class="active">Home</a>
          </li>
          <li><a href="/car-search">Cars</a>
          </li>
          <li><a href="/boat-search">Boats</a>
          </li>
          <li><a href="#">About</a>
          </li>
          <li><a href="#">Contact</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>
</header>


<div class="modal fade" id="loginPopup">
  <div class="modal-dialog" style="max-width: 350px;">
    <div class="modal-content popup-form">
      <!-- Modal Header -->
      <div class="modal-dialog-loader" style="display:none;"></div>
      <div class="modal-header pf-header">
        <h4 class="pf-title">Login</h4>
        <button type="button" class="close pf-close" data-dismiss="modal">
          <i class="fa fa-times" aria-hidden="true"></i>
        </button>
      </div>
      <div class="pf-content">
        <form [formGroup]="loginForm" (ngSubmit)="onLoginSubmit()" method="post">
          <div class="form-group">
            <label class="pf-label">Email</label>
            <input type="email" formControlName="username" class="form-control pf-textInput"
                   [ngClass]="{ 'is-invalid': invalid && loginControls.username.errors }"   placeholder="Enter your email"/>
            <div class="invalid-feedback">
              <div *ngIf="invalid && loginControls.username.errors" class="invalid-feedback">
                 <div *ngIf="loginControls.username.errors.required">User Name is required</div>
              </div>
            </div>
          </div>
          <div class="form-group">
            <label class="pf-label">Password</label>
            <input type="password" formControlName="password" class="form-control pf-textInput"
                   [ngClass]="{ 'is-invalid': invalid && loginControls.password.errors }"  placeholder="Enter your password"/>
            <div class="invalid-feedback">
              <div *ngIf="invalid && loginControls.password.errors" class="invalid-feedback">
               <div *ngIf="loginControls.password.errors.required">Password is required</div>
              </div>
            </div>
          </div>
          <button type="submit" class="pf-submit"> Login </button>
        </form>
      </div>
    </div>
  </div>
</div>

<div class="modal fade" id="registerPopup">
  <div class="modal-dialog" style="max-width: 350px;">
    <div class="modal-content popup-form">
      <!-- Modal Header -->
      <div class="modal-dialog-loader" style="display:none;"></div>
      <div class="modal-header pf-header">
        <h4 class="pf-title">Register</h4>
        <button type="button" class="close pf-close" data-dismiss="modal">
          <i class="fa fa-times" aria-hidden="true"></i>
        </button>
      </div>
      <div class="pf-content">
        <form [formGroup]="registerForm" method="post">
          <div class="form-group">
            <label class="pf-label">User Name</label>
            <input email type="text" formControlName="username" class="form-control pf-textInput"
                   placeholder="Enter your user name"/>
            <div *ngIf="registerControls.username.errors" class="invalid-feedback">
              <div *ngIf="registerControls.username.errors.required">User Name is required</div>
              <div *ngIf="registerControls.username.errors.exist">User name already used</div>
              <div *ngIf="registerControls.username.errors.email">Email is required</div>
            </div>
          </div>
          <div class="form-group">
            <label class="pf-label">Password</label>
            <input type="password" formControlName="password" class="form-control pf-textInput"
                   placeholder="Enter your password"/>
            <div *ngIf="registerControls.password.errors" class="invalid-feedback">
              <div *ngIf="registerControls.password.errors.required">Password is required</div>
              <div *ngIf="registerControls.password.errors.minlength">Password must be at least 6 characters</div>
            </div>
          </div>
          <div class="form-group">
            <label class="pf-label">Confirm Password</label>
            <input type="password" formControlName="confirmPassword" class="form-control pf-textInput"
                   placeholder="Enter your confirm password"/>
            <div *ngIf="registerControls.confirmPassword.errors" class="invalid-feedback">
              <div *ngIf="registerControls.confirmPassword.errors.required">Confirm Password is required</div>
              <div *ngIf="registerControls.confirmPassword.errors.minlength">Password must be at least 6 characters
              </div>
              <div *ngIf="registerControls.confirmPassword.errors.mustMatch">Passwords must match</div>
            </div>
          </div>
          <input (click)="onRegisterSubmit()" type="submit" value="Register" class="pf-submit">
        </form>
      </div>
    </div>
  </div>
</div>
